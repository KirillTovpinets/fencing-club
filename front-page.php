<?php get_header(); ?>
<header class="fencing-header d-flex align-items-center justify-content-center flex-column gap-4" style="background-image: url('<?php echo bloginfo('template_url');?>/images/backgrounds/header-min.png')">
    <h1 class="text-center fencing-header-title">
      <span class="d-block fs-5 academy animate__animated animate__fadeIn">FENCING ACADEMY</span>
      <span class="d-block text-uppercase animate__animated animate__fadeIn animate__delay-1s"><?php echo get_the_title(); ?></span>
    </h1>
    <a href="<?php echo get_page_link(566); ?>" class="btn fencing-btn btn-xlg rounded-pill animate__animated animate__fadeIn animate__delay-1s">Get started today</a>
  </header>
  <section class="fencing-section mt-5">
    <div class="container">
      <div class="row px-5">
        <div class="col-md-4 my-md-0 my-4 animate">
            <a href="<?php echo get_page_link(128); ?>" class="bordered d-flex border fencing-border rounded rounded-4 fencing-service align-items-center justify-content-center flex-column">
              <svg id="Medal" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 204 336" class="fencing-svg">
                <g>
                  <g>
                    <polyline points="132.66 110.4 184.16 1.94 138.01 2.13 102.66 77.4" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                    <polyline points="71.66 110.4 20.16 2.13 66.32 2.32 117.66 110.4" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                    <line x1="152.66" y1="47.4" x2="129.66" y2="94.4" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                  </g>
                  <polyline points="147.66 145.4 147.66 110.4 56.66 110.4 56.66 144.4" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                  <circle cx="101.83" cy="234" r="99.5" style="fill: none; stroke: #f8f6e2; stroke-miterlimit: 10; stroke-width: 3px;"/>
                  <circle cx="102.33" cy="234.5" r="76.5" style="fill: none; stroke: #f8f6e2; stroke-miterlimit: 10; stroke-width: 3px;"/>
                  <path d="M161.66,210.91c-6-14.72-24.76-32.4-42.89-37.03" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 3px;"/>
                </g>
                <polygon points="101.83 195.44 110.55 222.29 138.78 222.29 115.95 238.88 124.67 265.72 101.83 249.13 79 265.72 87.72 238.88 64.88 222.29 93.11 222.29 101.83 195.44" style="fill: #f8f6e2; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
              </svg>
              <h2 class="text-center fs-1 my-5 fw-bold">Dedicated Professionals</h2>
              <div class="d-flex gap-2 align-items-center">
                <span class="bi bi-arrow-right-circle accent"></span>
                <span class="text-uppercase fw-bold">Read more</span>
              </div>
            </a>
        </div>
        <div class="col-md-4 my-md-0 my-4 animate animate__delay-1s">
            <a href="<?php echo get_page_link(426); ?>" class="bordered d-flex border fencing-border rounded rounded-4 fencing-service align-items-center justify-content-center flex-column">
              <svg id="Layer_2" class="fencing-svg swords" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 236 225">
                <g id="Final">
                  <g>
                    <g>
                      <line x1="8.32" y1="6.27" x2="165.74" y2="161.61" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                      <path d="M204.92,156.39c2.06,9.31-34.25,45.7-43.85,43.85-6-1.16-8.3-14.54-6.42-19.25,3.93-9.83,19.92-26.4,29.87-30.02,4.96-1.81,19.04-.71,20.4,5.42Z" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                      <rect x="195.22" y="177.5" width="14.44" height="43.31" transform="translate(486.4 196.83) rotate(135)" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                    </g>
                    <path d="M205.87,156.47c10.52,1.28,19.7,7.61,24.12,16.9,5.42,11.39,3.18,22.39,0,25.57" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                  </g>
                  <g>
                    <g>
                      <line x1="224.65" y1="5.23" x2="69.31" y2="162.66" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                      <path d="M74.52,201.84c-9.31,2.06-45.7-34.25-43.85-43.85,1.16-6,14.54-8.3,19.25-6.42,9.83,3.93,26.4,19.92,30.02,29.87,1.81,4.96.71,19.04-5.42,20.4Z" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                      <rect x="24.55" y="177.7" width="14.44" height="43.31" transform="translate(-86.73 362.78) rotate(-135)" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                    </g>
                    <path d="M30.13,156.47c-10.52,1.28-19.7,7.61-24.12,16.9-5.42,11.39-3.18,22.39,0,25.57" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                  </g>
                </g>
              </svg>
              <h2 class="text-center fs-1 my-5 fw-bold">Individual Coaching</h2>
              <div class="d-flex gap-2 align-items-center">
                <span class="bi bi-arrow-right-circle accent"></span>
                <span class="text-uppercase fw-bold">Read more</span>
              </div>
            </a>
        </div>
        <div class="col-md-4 my-md-0 my-4 animate animate__delay-2s">
            <a href="#programs" class="bordered d-flex border fencing-border rounded rounded-4 fencing-service align-items-center justify-content-center flex-column">
              <svg class="fencing-svg" id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 286 431">
                <path d="M54,277.21c-32.17,35.42-61.36,89.67-46.41,115.62,27.59,47.9,245.52,47.96,272.67,0,13.91-24.57-15.26-79.8-48.77-115.92" style="fill: none; stroke: #f8f6e2; stroke-miterlimit: 10; stroke-width: 3px;"/>
                <path class="bug-path" d="M209.89,400.22c16.16,0,39.07-9.78,43.83-18.2,6.9-12.19,4.91-26.71-12.32-54.33" style="fill:none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                <g>
                  <line x1="128.1" y1="55.47" x2="126.91" y2="292.38" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                  <line x1="161.78" y1="55.47" x2="161.78" y2="292.96" style="fill: none; stroke: #f8f6e2; stroke-linecap: round; stroke-linejoin: round; stroke-width: 3px;"/>
                </g>
                <line x1="84.71" y1="276.04" x2="201.48" y2="276.04" style="fill: none; stroke: #f8f6e2; stroke-miterlimit: 10; stroke-width: 3px;"/>
                <line x1="65.06" y1="235.62" x2="223.38" y2="235.62" style="fill: none; stroke: #f8f6e2; stroke-miterlimit: 10; stroke-width: 3px;"/>
                <line x1="54.4" y1="195.73" x2="234.04" y2="195.2" style="fill: none; stroke: #f8f6e2; stroke-miterlimit: 10; stroke-width: 3px;"/>
                <line x1="48.99" y1="155.51" x2="239.45" y2="155.51" style="fill: none; stroke: #f8f6e2; stroke-miterlimit: 10; stroke-width: 3px;"/>
                <line x1="61.69" y1="75.06" x2="226.74" y2="75.06" style="fill: none; stroke: #f8f6e2; stroke-miterlimit: 10; stroke-width: 3px;"/>
                <line x1="49.91" y1="115.28" x2="238.53" y2="115.28" style="fill: none; stroke: #f8f6e2; stroke-miterlimit: 10; stroke-width: 3px;"/>
                <path id="Ext" d="M144.21,4C54.31,4,21.13,52.27,21.73,125.27c.99,119.67,45.85,217.2,122.48,217.8,62.28.49,122.78-94.71,121.87-209.96-.6-76.62-27.75-129.11-121.87-129.11" style="fill: none; stroke: #f8f6e2; stroke-miterlimit: 10; stroke-width: 3px;"/>
                <path id="Int" d="M48.64,134.99c.77,93.75,35.96,177.98,95.99,178.45,48.79.38,96.14-82.03,95.43-172.31-.47-60.03-21.7-106.14-95.43-106.14s-96.46,42.81-95.99,100Z" style="fill: none; stroke: #f8f6e2; stroke-miterlimit: 10; stroke-width: 3px;"/>
              </svg>
              <h2 class="text-center my-5 fs-1 fw-bold">Programs <br>for All Ages</h2>
              <div class="d-flex gap-2 align-items-center">
                <span class="bi bi-arrow-right-circle accent"></span>
                <span class="text-uppercase fw-bold">Read more</span>
              </div>
            </a>
        </div>
      </div>
    </div>
  </section>
  <section class="fencing-section mt-5">
    <div class="container">
      <div class="row align-items-center animate">
        <div class="col-md-6">
          <img src="<?php bloginfo("template_url"); ?>/images/backgrounds/photo 2-min.png" class="w-100 rounded rounded-pill mb-md-0 mb-5" alt="">
        </div>
        <div class="col-md-6 animate">
          <h3 class="text-capitalize fencing-section-title fw-bold">Expert <span class="accent">Coaching</span></h3>
          <p class="fencing-section-description">
            Our experienced coaches provide personalized training to help you improve your technique, strategy and fitness.
          </p>
          <a href="<?php echo get_page_link(33); ?>" class="text-uppercase btn btn-outline-light btn-xlg rounded-pill fencing-btn-outline">About us</a>
        </div>
      </div>
    </div>
  </section>
  <section class="fencing-section my-md-0 mt-5">
    <div class="container">
      <div class="row align-items-center flex-md-row flex-column-reverse">
        <div class="col-md-6 mb-md-0 mb-5 animate">
          <h3 class="text-capitalize fencing-section-title fw-bold">Safe <span class="accent">Environment</span> </h3>
          <p class="fencing-section-description">
          We prioritize the safety and well-being of our students. Our club adheres to strict safety protocols, ensuring a secure and supportive atmosphere for all members.
          </p>
          <a href="<?php echo get_page_link(566); ?>" class="text-uppercase btn btn-outline-light btn-xlg rounded-pill fencing-btn-outline">Get Involved</a>
        </div>
        <div class="col-md-6 animate animate__delay-1s">
          <img src="<?php bloginfo('template_url'); ?>/images/backgrounds/fencing-technic-min.png" class="w-100 rounded rounded-pill mb-md-0 mb-5" alt="">
        </div>
      </div>
    </div>
  </section>
  <section class="fencing-section padding-bottom">
    <div class="container">
      <div class="row align-items-center animate">
        <div class="col-md-6">
          <img src="<?php bloginfo("template_url"); ?>/images/backgrounds/4-min.png" class="w-100 rounded rounded-pill mb-md-0 mb-5" alt="">
        </div>
        <div class="col-md-6 animate">
          <h3 class="text-capitalize fencing-section-title fw-bold">Introduction <span class="accent">Classes</span></h3>
          <p class="fencing-section-description">
          If youâ€™re new to fencing, join our Introduction to Fencing session for kids 6+ to learn the fundamentals, including coordination, distance control, basic techniques, using electrical weapons, etiquette, safety and sportsmanship.
          </p>
          <a href="<?php echo get_page_link(684); ?>" class="text-uppercase btn btn-outline-light btn-xlg rounded-pill fencing-btn-outline">Learn more</a>
        </div>
      </div>
    </div>
  </section>
  <section>
    <img src="<?php bloginfo('template_url'); ?>/images/section-devider-min.png" class="fencing-devider">
  </section>
  <section class="fencing-section py-5 bg-primary" id="programs">
    <h2 class="text-center fw-bold fencing-programs-title text-white animate animate__delay-1s">
      PROGRAMS
    </h2>

    <div class="container">
      <div class="py-5 row">
        <?php $programs = getPrograms(); ?>
        <?php if ( !empty($programs) ): ?>
          <?php while ( $programs->have_posts() ) : $programs->the_post(); ?>
          <a href="<?php echo get_page_link(get_the_ID()); ?>" class="col-md-6 col-lg-3 fencing-program mb-4 mb-lg-0 animate <?php echo 'animate__delay-' . get_post_field('menu_order') .'s' ?>">
            <div class="rounded rounded-4 overflow-hidden position-relative">
              <img src="<?php echo has_post_thumbnail() ? get_the_post_thumbnail_url() : bloginfo('template_url') . '/images/backgrounds/competitive-min.png' ?>" alt="" class="height-auto d-block w-100">
              <div class="program-description title">
                <h4 class="text-uppercase fw-bold text-center"><?php the_title(); ?></h4>
                <span class="d-flex read-more gap-2">
                  <i class="bi bi-arrow-right-circle"></i>
                  <span class="text-uppercase fw-bold">Read more</span>
                </span>
              </div>
            </div>
        </a>
          <?php endwhile; ?>
        <?php else: ?>
          <p>No programs found</p>
        <?php endif; wp_reset_postdata(); ?>
      </div>
      <div class="text-center animate">
        <a href="<?php echo get_page_link(566); ?>" class="btn fencing-btn rounded-pill btn-xlg text-uppercase">Get Started today</a>
      </div>
    </div>

  </section>
  <section>
    <img src="<?php bloginfo('template_url'); ?>/images/section-devider-min.png" class="fencing-devider mirror">
  </section>
  <section class="fencing-section fencing-section-parallax-background" style="background-image: url('<?php echo get_template_directory_uri(); ?>/images/backgrounds/1-min.png');">
    <div class="pt-5 animate">
      <h2 class="text-center mb-5 text-uppercase fw-bold fencing-programs-title text-white animate animate__delay-1s">
        Birthday Parties
      </h2>
      <div class="container">
      <p class="fs-3 animate">
      Celebrate your birthday with exciting fencing fun at Eminence Fencing Club! Perfect for all ages, our parties include engaging activities, professional instruction and all equipment provided. <br>
      Contact us at <a href="tel:+13127188617">312-718-8617</a> for more information and to book your party.
      </p>
      </div>
    </div>
  </section>
  <!-- <section class="fencing-section fencing-section-parallax-background">
    <div class="pt-5 animate">
      <div class="fencing-section-testimonials d-flex aling-items-center justify-content-center">
        <div class="fs-2 text-center w-50">
          <p>"Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio aliquid nostrum esse repudiandae error non dolor, reiciendis sed in veritatis praesentium, quos, nisi consequuntur vel minus necessitatibus voluptate earum aut?"</p>
          <span class="d-block fs-4 fw-bold">Ivan Ivanov</span>
          <span class="d-block fs-4">Member since 2020</span>
        </div>
      </div>
    </div>
  </section> -->
  <section class="fencing-section schedule-contact-section">
    <div class="container">
      <div class="row">
        <div class="col-md-6 mb-3 animate">
          <h4 class="fencing-section-title fw-bold fs-1">Schedule</h4>
          <div class="accordion" id="accordionExample">
            <?php $result = getWeekDays(); ?>
            <?php if ( $result->have_posts()) : ?>
              <?php while ( $result->have_posts() ) : $result->the_post(); ?>
                <div class="accordion-item">
                  <h2 class="accordion-header">
                    <button class="accordion-button collapsed fw-bold fs-4" type="button" data-bs-toggle="collapse" data-bs-target="#collapse<?php echo get_the_ID(); ?>" aria-expanded="false" aria-controls="collapse<?php echo get_the_ID(); ?>">
                      <?php the_title(); ?>
                    </button>
                  </h2>
                  <div id="collapse<?php echo get_the_ID(); ?>" class="accordion-collapse collapse <?php if (get_post_field('menu_order', get_the_ID()) == '1'): echo 'show'; endif;?>" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                    <?php $events = getAllEvents(get_the_ID(), null); ?>
                      <?php if ( !empty($events) ): ?>
                        <?php foreach($events as $slot):  ?>
                          <div class="d-flex gap-3 align-items-center schedule-item">
                            <?php if ($slot->program == 'Individual lessons'): ?>
                              <i class="bi bi-person fs-1"></i>
                            <?php else: ?>
                              <i class="bi bi-people fs-1"></i>
                            <?php endif; ?>
                            <div class="schedule-item">
                              <span class="d-block"><?php echo $slot->description; ?></span>
                                <span class="fw-bold fs-3">
                                  <?php echo $slot->event_start . ' - ' . $slot->event_end; ?>
                                </span> <span class="fs-3 mx-2">|</span> <span class="fw-bold fs-4">
                                  <?php echo $slot->program; ?>
                                </span>
                            </div>
                        </div>
                        <?php endforeach; ?>
                        <?php else: ?>
                          <p>No events found</p>
                      <?php endif; ?>
                    </div>
                  </div>
                </div>
              <?php endwhile; ?>
            <?php else: ?>
              <p>No events found</p>
            <?php endif; wp_reset_postdata(); ?>
          </div>
          <div class="mt-3">
          <a href="<?php echo get_page_link(428); ?>" class="text-uppercase fw-bold">View full schedule</a>
          </div>
        </div>
        <div class="col-md-6 animate animate__delay-1s">
          <h4 class="fencing-section-title fw-bold fs-1">Contact</h4>

          <?php echo do_shortcode('[contact-form-7 id="3adedfe" title="Contact form" html_class="contact-form"]'); ?>

          <div class="row fencing-contact-info">
            <div class="col-4">
              <div class="d-flex gap-2 mb-3">
                <i class="bi bi-geo-alt text-secondary"></i>
                <span class="text-uppercase">Location</span>
              </div>
              <p>28457 Ballard Dr, <br> unit c1, <br> Lake Forest, IL 60045</p>
              <p class="google-data"><a href="<?php echo get_option('club-direction-link'); ?>" target="_blank" class="fencing-contact-link"> <i class="bi bi-geo-alt"></i> Get Direction</a> <br></p>
              <p class="imap-data"><a href="<?php echo get_option('club-direction-link-imap'); ?>" target="_blank" class="fencing-contact-link"> <i class="bi bi-geo-alt"></i> Get Direction</a> <br></p>
            </div>
            <div class="col-4">
              <div class="d-flex gap-2 mb-3">
                <i class="bi bi-clock text-secondary"></i>
                <span class="text-uppercase">Hours</span>
              </div>
              <?php $hours = getWorkingHours(); ?>
              <?php foreach($hours as $day): ?>
                <p style="font-size: 0.75rem"><?php echo substr($day->work_day, 0, 3) . ": " . $day->work_start . ' - ' . $day->work_end; ?></p>
              <?php endforeach; ?>
            </div>
            <div class="col-4">
              <div class="d-flex gap-2 mb-3">
                <i class="bi bi-globe text-secondary"></i>
                <span class="text-uppercase">Social</span>
              </div>
              <p><i class="bi bi-facebook"></i> Facebook</p>
              <p><i class="bi bi-instagram"></i> Instagram</p>
              <p><i class="bi bi-youtube"></i> Youtube</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="fencing-section">
    <div id="google-map"></div>
  </section>
<?php get_footer(); ?>
